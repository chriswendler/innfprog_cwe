<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poengberegning</title>
</head>
<body>
    <p id="utskrift"></p>

    <script>
        // Gjøre klar noen variabler som vi trenger
        // Svantes poeng på deleksamene
        var poeng = [79, 82, 71, 84];  // poeng[0], var index = 0; poeng[index]
        // Teller for antall deleksamner som er bestaatt 
        var antallBestaatt = 0;
        // Teller for totalt antall poeng
        var totalePoeng = 0; 

        // Vi skal lage en løkke som går gjennom hver enkelt verdi i arrayen poeng. 
        // For hver runde løkken går, må vi
        // - sjekke om deleksamen er bestått (poeng må være like eller høyere enn 40)
        // - hvis deleksamen er bestått, skal telleren antallBestaatt plusses på med 1  
        // - plusse poengen (verdiene fra arrayen) på totaePoeng

        for(var index = 0; index < poeng.length; index++){
            if(poeng[index] >= 40){
                antallBestaatt++;
            }
            totalePoeng = totalePoeng + poeng[index];  // f.eks.: i første runde plusses 72 som er antall på index 0
            
            console.log("Løkken kjører nå runde nummer " + index + ". Så langt er " + antallBestaatt + " deleksamer bestått.");
            console.log("Så langt er total antall poeng " + totalePoeng);
            // Sammenlignet med v1 har vi dynamikken på plass for å endre antall deleskamen. Det er også med færre linjer.
        }

        // Vi skal lage en datastruktur for karakterskalaen, datastrukturen blir satt opp til kode
            var karakterSkala = [
                {karakter: "A", maxscore: 400, minscore: 361}, 
                {karakter: "B", maxscore: 360, minscore: 321},
                {karakter: "C", maxscore: 320, minscore: 241},
                {karakter: "D", maxscore: 240, minscore: 201},
                {karakter: "E", maxscore: 200, minscore: 160},
                {karakter: "F", maxscore: 159, minscore: 0} // ingen komma etter det siste elemetet
            ];

        // Eksempel på referanse: karakterSkala[2]["karakter"] -> "C"
        // Eksempel på referanse med variabel: var index = 1, karakterSkala[index]["karakter"] -> "B"

        // Deklarere en variabel som kan ta imot Svantes karakter:
        var karakter

        // Vi må også sjekke, om alle deleksamene er bestått. Ellers skal karakter blir F, og kurset ikke bestått. 
        if(antallBestaatt == poeng.length){
            // Vi skal lage en løkke som skal gå gjennom hver karakter i skalalen
            // For hver karakter, må vi sjekke om Svantes poengsum er mellom maxscore og minscore
            for(var ki = 0; ki < karakterSkala.length; ki++){
                if(totalePoeng <= karakterSkala[ki]["maxscore"] && totalePoeng >= karakterSkala[ki]["minscore"]){
                    var karakter = karakterSkala[ki]["karakter"];
                    break;
                } // slutt på if-testen
            } // slutt på løkken
        } else { 
                // Hvis ikke allle deleksamer er bestaatt, settes karakter F uavhengig av poengsum. 
                karakter = "F";
            }
        
        document.getElementById("utskrift").innerHTML = "Karakter: " + karakter  
            
</script>

</body>
</html>